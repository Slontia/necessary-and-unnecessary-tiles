# YuukouhaiFuyouhaiCalculator
麻雀において有効牌と不要牌およびシャンテン数を同時に計算する

## サンプルプログラムについて
このプログラムでは一人麻雀シミュレーションを行います。各巡目で、シャンテン数を不変に保ちかつ有効牌の枚数が最大となるように打牌を行います。
シャンテン数を計算すると同時に有効牌(ツモったときにシャンテン数が低下する牌)と不要牌(捨てたときにシャンテン数を不変に保つ牌)を計算するため高速に計算することが可能です。

## サンプルプログラムの使用方法
1. インデックスファイルを解凍
```
$ gunzip index_dw_h.txt.gz index_dw_s.txt.gz
```

2. ビルド
```
$ make
```

3. 実行
```
$ ./prob.out [局数]
```

4.出力ファイルを確認

以下の出力は局数を10万とした場合の結果です。乱数のシードは実行ごとに変わるので出力結果は毎回変化します。
```
$ cat result.txt
Number of Tiles         14
Total                   100000
Time (msec.)            9897

Turn    Shanten Number (-1 - 6)                                         Hora    Tempai  Exp.
0       0       67      2404    19291   43890   28645   5546    157     0       0.00067 3.15908
1       1       325     5990    31187   43597   16985   1897    18      1e-05   0.00326 2.76687
2       9       977     11784   40995   36848   8811    573     3       9e-05   0.00986 2.42436
3       46      2269    19114   46477   27701   4206    187     0       0.00046 0.02315 2.12884
4       134     4434    27041   46842   19573   1922    54      0       0.00134 0.04568 1.87268
5       322     7478    34170   43916   13211   886     17      0       0.00322 0.078   1.64942
6       673     11245   39754   39293   8594    434     7       0       0.00673 0.11918 1.4522
7       1207    15591   43798   33668   5535    198     3       0       0.01207 0.16798 1.27339
8       1964    20325   45890   28177   3546    98      0       0       0.01964 0.22289 1.1131
9       2948    25161   46612   22999   2231    49      0       0       0.02948 0.28109 0.96551
10      4166    29950   46026   18411   1417    30      0       0       0.04166 0.34116 0.83053
11      5707    34294   44538   14547   899     15      0       0       0.05707 0.40001 0.70682
12      7414    38344   42308   11343   579     12      0       0       0.07414 0.45758 0.59365
13      9384    41882   39558   8800    370     6       0       0       0.09384 0.51266 0.48908
14      11563   45009   36385   6805    233     5       0       0       0.11563 0.56572 0.39151
15      13960   47520   33122   5248    147     3       0       0       0.1396  0.6148  0.30111
16      16439   49615   29816   4020    109     1       0       0       0.16439 0.66054 0.21748
17      19130   51032   26700   3058    80      0       0       0       0.1913  0.70162 0.13926
```

1行目は手牌の枚数、2行目は局数、3行目は実行時間を示しています。
6行目以降は、左から順に巡目、各シャンテン数の割合(-1から6)、和了率、聴牌率、シャンテン数期待値を示しています。
特に最終行に注目すると一人麻雀の和了率が約19%であることがわかります。

## 注意事項
- C++11以上に対応したコンパイラが必要です。
